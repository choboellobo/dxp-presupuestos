
<ion-content class="ion-padding" [style.--background]="scanActive ? '#00000000' : '#36363a' " >

  <ion-fab slot="fixed" horizontal="end" vertical="bottom">
    <ion-button (click)="getOrderDraft()">Trabajo pendiente</ion-button>
  </ion-fab>

  <img src="../../assets/logo.png" width="100%">
  
  <ion-button expand="full" (click)="startScanner()" [hidden]="scanActive">
    Escanear ORDEN DE TRABAJO
  </ion-button>
  <ion-item color="secondary" [hidden]="scanActive">
    <ion-label>Buscar orden</ion-label>
    <ion-input type="tel" [(ngModel)]="order"></ion-input>
  </ion-item>
  <div class="ion-padding ion-text-center">
    <ion-button [hidden]="scanActive" (click)="searchOrder()">Buscar</ion-button>
  </div>



  <ion-row class="scan-button" [hidden]="!scanActive">
    <ion-col class="ion-no-padding">
      <ion-button expand="full" (click)="stopScanner()">Parar escanear</ion-button>
    </ion-col>
  </ion-row>
  <div class="scan-box" [hidden]="!scanActive"></div>


  <ion-modal [isOpen]="pendienteModal" [initialBreakpoint]="0.85" [breakpoints]="[0.85]">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title>Trabajo pendiente</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="pendienteModal = false">
              <ion-icon slot="icon-only" name="close-outline"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <ion-row>
          <ion-col size="12">
            <ion-list>
              <ion-item *ngFor="let _order of orders" (click)="openOrder(_order.id)">
                <ion-label>
                  <h4> <strong>({{ _order.id }})</strong>  {{ _order.partner_id[1] }}</h4>
                  <p>Fecha orden de trabajo: <strong>{{_order.date_order | date:'dd/MM/yyyy'}}</strong></p>
                </ion-label>
              </ion-item>
            </ion-list>
          </ion-col>
        </ion-row>
      </ion-content>
    </ng-template>
  </ion-modal>



</ion-content>